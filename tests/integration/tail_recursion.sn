// Test tail call optimization

// Simple countdown - a classic tail-recursive function
fn countdown(n: int): int =>
    if n <= 0 =>
        return 0
    return countdown(n - 1)

// Sum using tail recursion with accumulator
fn sum_tail(n: int, acc: int): int =>
    if n <= 0 =>
        return acc
    return sum_tail(n - 1, acc + n)

// Helper for sum_tail
fn sum(n: int): int =>
    return sum_tail(n, 0)

// GCD using Euclidean algorithm (tail recursive)
fn gcd(a: int, b: int): int =>
    if b == 0 =>
        return a
    return gcd(b, a % b)

fn main(): void =>
    // Test countdown
    print($"countdown(10) = {countdown(10)}\n")

    // Test sum (1+2+...+10 = 55)
    print($"sum(10) = {sum(10)}\n")

    // Test GCD (gcd(48, 18) = 6)
    print($"gcd(48, 18) = {gcd(48, 18)}\n")

    // Test with larger values to verify no stack overflow
    print($"countdown(1000) = {countdown(1000)}\n")
    print($"sum(100) = {sum(100)}\n")
