// Integration test for native operator optimization
// Tests that arithmetic and comparisons work correctly in all modes

fn add(a: int, b: int): int =>
    return a + b

fn multiply(a: int, b: int): int =>
    return a * b

fn compare_values(x: int, y: int): void =>
    if x < y =>
        print("x < y\n")
    if x > y =>
        print("x > y\n")
    if x == y =>
        print("x == y\n")
    if x <= y =>
        print("x <= y\n")
    if x >= y =>
        print("x >= y\n")
    if x != y =>
        print("x != y\n")

fn test_double_ops(): void =>
    var a: double = 3.14
    var b: double = 2.0
    var sum: double = a + b
    var diff: double = a - b
    var prod: double = a * b
    print($"double sum = {sum}\n")
    print($"double diff = {diff}\n")
    print($"double prod = {prod}\n")

fn main(): int =>
    // Test basic arithmetic
    var result: int = add(10, 20)
    print($"10 + 20 = {result}\n")

    result = multiply(7, 8)
    print($"7 * 8 = {result}\n")

    // Test subtraction
    var sub: int = 50 - 13
    print($"50 - 13 = {sub}\n")

    // Test negative numbers
    var neg: int = -25
    var pos: int = 25
    var sum: int = neg + pos
    print($"-25 + 25 = {sum}\n")

    // Test comparisons with different relationships
    print("Testing 5 vs 10:\n")
    compare_values(5, 10)

    print("Testing 10 vs 5:\n")
    compare_values(10, 5)

    print("Testing 7 vs 7:\n")
    compare_values(7, 7)

    // Test double operations
    test_double_ops()

    // Test complex expressions
    var complex: int = (3 + 4) * (10 - 3) / 7
    print($"(3 + 4) * (10 - 3) / 7 = {complex}\n")

    return 0
