# Test large struct heap allocation (>=8KB threshold)
# Structs >= 8KB (8192 bytes) should be heap-allocated via rt_arena_alloc

# LargeStruct: 1024 int fields * 8 bytes = 8192 bytes = exactly 8KB threshold
struct LargeStruct =>
    field0: int = 0
    field1: int = 0
    field2: int = 0
    field3: int = 0
    field4: int = 0
    field5: int = 0
    field6: int = 0
    field7: int = 0
    field8: int = 0
    field9: int = 0
    field10: int = 0
    field11: int = 0
    field12: int = 0
    field13: int = 0
    field14: int = 0
    field15: int = 0
    field16: int = 0
    field17: int = 0
    field18: int = 0
    field19: int = 0
    field20: int = 0
    field21: int = 0
    field22: int = 0
    field23: int = 0
    field24: int = 0
    field25: int = 0
    field26: int = 0
    field27: int = 0
    field28: int = 0
    field29: int = 0
    field30: int = 0
    field31: int = 0
    field32: int = 0
    field33: int = 0
    field34: int = 0
    field35: int = 0
    field36: int = 0
    field37: int = 0
    field38: int = 0
    field39: int = 0
    field40: int = 0
    field41: int = 0
    field42: int = 0
    field43: int = 0
    field44: int = 0
    field45: int = 0
    field46: int = 0
    field47: int = 0
    field48: int = 0
    field49: int = 0
    field50: int = 0
    field51: int = 0
    field52: int = 0
    field53: int = 0
    field54: int = 0
    field55: int = 0
    field56: int = 0
    field57: int = 0
    field58: int = 0
    field59: int = 0
    field60: int = 0
    field61: int = 0
    field62: int = 0
    field63: int = 0
    field64: int = 0
    field65: int = 0
    field66: int = 0
    field67: int = 0
    field68: int = 0
    field69: int = 0
    field70: int = 0
    field71: int = 0
    field72: int = 0
    field73: int = 0
    field74: int = 0
    field75: int = 0
    field76: int = 0
    field77: int = 0
    field78: int = 0
    field79: int = 0
    field80: int = 0
    field81: int = 0
    field82: int = 0
    field83: int = 0
    field84: int = 0
    field85: int = 0
    field86: int = 0
    field87: int = 0
    field88: int = 0
    field89: int = 0
    field90: int = 0
    field91: int = 0
    field92: int = 0
    field93: int = 0
    field94: int = 0
    field95: int = 0
    field96: int = 0
    field97: int = 0
    field98: int = 0
    field99: int = 0
    field100: int = 0
    field101: int = 0
    field102: int = 0
    field103: int = 0
    field104: int = 0
    field105: int = 0
    field106: int = 0
    field107: int = 0
    field108: int = 0
    field109: int = 0
    field110: int = 0
    field111: int = 0
    field112: int = 0
    field113: int = 0
    field114: int = 0
    field115: int = 0
    field116: int = 0
    field117: int = 0
    field118: int = 0
    field119: int = 0
    field120: int = 0
    field121: int = 0
    field122: int = 0
    field123: int = 0
    field124: int = 0
    field125: int = 0
    field126: int = 0
    field127: int = 0
    field128: int = 0
    field129: int = 0
    field130: int = 0
    field131: int = 0
    field132: int = 0
    field133: int = 0
    field134: int = 0
    field135: int = 0
    field136: int = 0
    field137: int = 0
    field138: int = 0
    field139: int = 0
    field140: int = 0
    field141: int = 0
    field142: int = 0
    field143: int = 0
    field144: int = 0
    field145: int = 0
    field146: int = 0
    field147: int = 0
    field148: int = 0
    field149: int = 0
    field150: int = 0
    field151: int = 0
    field152: int = 0
    field153: int = 0
    field154: int = 0
    field155: int = 0
    field156: int = 0
    field157: int = 0
    field158: int = 0
    field159: int = 0
    field160: int = 0
    field161: int = 0
    field162: int = 0
    field163: int = 0
    field164: int = 0
    field165: int = 0
    field166: int = 0
    field167: int = 0
    field168: int = 0
    field169: int = 0
    field170: int = 0
    field171: int = 0
    field172: int = 0
    field173: int = 0
    field174: int = 0
    field175: int = 0
    field176: int = 0
    field177: int = 0
    field178: int = 0
    field179: int = 0
    field180: int = 0
    field181: int = 0
    field182: int = 0
    field183: int = 0
    field184: int = 0
    field185: int = 0
    field186: int = 0
    field187: int = 0
    field188: int = 0
    field189: int = 0
    field190: int = 0
    field191: int = 0
    field192: int = 0
    field193: int = 0
    field194: int = 0
    field195: int = 0
    field196: int = 0
    field197: int = 0
    field198: int = 0
    field199: int = 0
    field200: int = 0
    field201: int = 0
    field202: int = 0
    field203: int = 0
    field204: int = 0
    field205: int = 0
    field206: int = 0
    field207: int = 0
    field208: int = 0
    field209: int = 0
    field210: int = 0
    field211: int = 0
    field212: int = 0
    field213: int = 0
    field214: int = 0
    field215: int = 0
    field216: int = 0
    field217: int = 0
    field218: int = 0
    field219: int = 0
    field220: int = 0
    field221: int = 0
    field222: int = 0
    field223: int = 0
    field224: int = 0
    field225: int = 0
    field226: int = 0
    field227: int = 0
    field228: int = 0
    field229: int = 0
    field230: int = 0
    field231: int = 0
    field232: int = 0
    field233: int = 0
    field234: int = 0
    field235: int = 0
    field236: int = 0
    field237: int = 0
    field238: int = 0
    field239: int = 0
    field240: int = 0
    field241: int = 0
    field242: int = 0
    field243: int = 0
    field244: int = 0
    field245: int = 0
    field246: int = 0
    field247: int = 0
    field248: int = 0
    field249: int = 0
    field250: int = 0
    field251: int = 0
    field252: int = 0
    field253: int = 0
    field254: int = 0
    field255: int = 0
    field256: int = 0
    field257: int = 0
    field258: int = 0
    field259: int = 0
    field260: int = 0
    field261: int = 0
    field262: int = 0
    field263: int = 0
    field264: int = 0
    field265: int = 0
    field266: int = 0
    field267: int = 0
    field268: int = 0
    field269: int = 0
    field270: int = 0
    field271: int = 0
    field272: int = 0
    field273: int = 0
    field274: int = 0
    field275: int = 0
    field276: int = 0
    field277: int = 0
    field278: int = 0
    field279: int = 0
    field280: int = 0
    field281: int = 0
    field282: int = 0
    field283: int = 0
    field284: int = 0
    field285: int = 0
    field286: int = 0
    field287: int = 0
    field288: int = 0
    field289: int = 0
    field290: int = 0
    field291: int = 0
    field292: int = 0
    field293: int = 0
    field294: int = 0
    field295: int = 0
    field296: int = 0
    field297: int = 0
    field298: int = 0
    field299: int = 0
    field300: int = 0
    field301: int = 0
    field302: int = 0
    field303: int = 0
    field304: int = 0
    field305: int = 0
    field306: int = 0
    field307: int = 0
    field308: int = 0
    field309: int = 0
    field310: int = 0
    field311: int = 0
    field312: int = 0
    field313: int = 0
    field314: int = 0
    field315: int = 0
    field316: int = 0
    field317: int = 0
    field318: int = 0
    field319: int = 0
    field320: int = 0
    field321: int = 0
    field322: int = 0
    field323: int = 0
    field324: int = 0
    field325: int = 0
    field326: int = 0
    field327: int = 0
    field328: int = 0
    field329: int = 0
    field330: int = 0
    field331: int = 0
    field332: int = 0
    field333: int = 0
    field334: int = 0
    field335: int = 0
    field336: int = 0
    field337: int = 0
    field338: int = 0
    field339: int = 0
    field340: int = 0
    field341: int = 0
    field342: int = 0
    field343: int = 0
    field344: int = 0
    field345: int = 0
    field346: int = 0
    field347: int = 0
    field348: int = 0
    field349: int = 0
    field350: int = 0
    field351: int = 0
    field352: int = 0
    field353: int = 0
    field354: int = 0
    field355: int = 0
    field356: int = 0
    field357: int = 0
    field358: int = 0
    field359: int = 0
    field360: int = 0
    field361: int = 0
    field362: int = 0
    field363: int = 0
    field364: int = 0
    field365: int = 0
    field366: int = 0
    field367: int = 0
    field368: int = 0
    field369: int = 0
    field370: int = 0
    field371: int = 0
    field372: int = 0
    field373: int = 0
    field374: int = 0
    field375: int = 0
    field376: int = 0
    field377: int = 0
    field378: int = 0
    field379: int = 0
    field380: int = 0
    field381: int = 0
    field382: int = 0
    field383: int = 0
    field384: int = 0
    field385: int = 0
    field386: int = 0
    field387: int = 0
    field388: int = 0
    field389: int = 0
    field390: int = 0
    field391: int = 0
    field392: int = 0
    field393: int = 0
    field394: int = 0
    field395: int = 0
    field396: int = 0
    field397: int = 0
    field398: int = 0
    field399: int = 0
    field400: int = 0
    field401: int = 0
    field402: int = 0
    field403: int = 0
    field404: int = 0
    field405: int = 0
    field406: int = 0
    field407: int = 0
    field408: int = 0
    field409: int = 0
    field410: int = 0
    field411: int = 0
    field412: int = 0
    field413: int = 0
    field414: int = 0
    field415: int = 0
    field416: int = 0
    field417: int = 0
    field418: int = 0
    field419: int = 0
    field420: int = 0
    field421: int = 0
    field422: int = 0
    field423: int = 0
    field424: int = 0
    field425: int = 0
    field426: int = 0
    field427: int = 0
    field428: int = 0
    field429: int = 0
    field430: int = 0
    field431: int = 0
    field432: int = 0
    field433: int = 0
    field434: int = 0
    field435: int = 0
    field436: int = 0
    field437: int = 0
    field438: int = 0
    field439: int = 0
    field440: int = 0
    field441: int = 0
    field442: int = 0
    field443: int = 0
    field444: int = 0
    field445: int = 0
    field446: int = 0
    field447: int = 0
    field448: int = 0
    field449: int = 0
    field450: int = 0
    field451: int = 0
    field452: int = 0
    field453: int = 0
    field454: int = 0
    field455: int = 0
    field456: int = 0
    field457: int = 0
    field458: int = 0
    field459: int = 0
    field460: int = 0
    field461: int = 0
    field462: int = 0
    field463: int = 0
    field464: int = 0
    field465: int = 0
    field466: int = 0
    field467: int = 0
    field468: int = 0
    field469: int = 0
    field470: int = 0
    field471: int = 0
    field472: int = 0
    field473: int = 0
    field474: int = 0
    field475: int = 0
    field476: int = 0
    field477: int = 0
    field478: int = 0
    field479: int = 0
    field480: int = 0
    field481: int = 0
    field482: int = 0
    field483: int = 0
    field484: int = 0
    field485: int = 0
    field486: int = 0
    field487: int = 0
    field488: int = 0
    field489: int = 0
    field490: int = 0
    field491: int = 0
    field492: int = 0
    field493: int = 0
    field494: int = 0
    field495: int = 0
    field496: int = 0
    field497: int = 0
    field498: int = 0
    field499: int = 0
    field500: int = 0
    field501: int = 0
    field502: int = 0
    field503: int = 0
    field504: int = 0
    field505: int = 0
    field506: int = 0
    field507: int = 0
    field508: int = 0
    field509: int = 0
    field510: int = 0
    field511: int = 0
    field512: int = 0
    field513: int = 0
    field514: int = 0
    field515: int = 0
    field516: int = 0
    field517: int = 0
    field518: int = 0
    field519: int = 0
    field520: int = 0
    field521: int = 0
    field522: int = 0
    field523: int = 0
    field524: int = 0
    field525: int = 0
    field526: int = 0
    field527: int = 0
    field528: int = 0
    field529: int = 0
    field530: int = 0
    field531: int = 0
    field532: int = 0
    field533: int = 0
    field534: int = 0
    field535: int = 0
    field536: int = 0
    field537: int = 0
    field538: int = 0
    field539: int = 0
    field540: int = 0
    field541: int = 0
    field542: int = 0
    field543: int = 0
    field544: int = 0
    field545: int = 0
    field546: int = 0
    field547: int = 0
    field548: int = 0
    field549: int = 0
    field550: int = 0
    field551: int = 0
    field552: int = 0
    field553: int = 0
    field554: int = 0
    field555: int = 0
    field556: int = 0
    field557: int = 0
    field558: int = 0
    field559: int = 0
    field560: int = 0
    field561: int = 0
    field562: int = 0
    field563: int = 0
    field564: int = 0
    field565: int = 0
    field566: int = 0
    field567: int = 0
    field568: int = 0
    field569: int = 0
    field570: int = 0
    field571: int = 0
    field572: int = 0
    field573: int = 0
    field574: int = 0
    field575: int = 0
    field576: int = 0
    field577: int = 0
    field578: int = 0
    field579: int = 0
    field580: int = 0
    field581: int = 0
    field582: int = 0
    field583: int = 0
    field584: int = 0
    field585: int = 0
    field586: int = 0
    field587: int = 0
    field588: int = 0
    field589: int = 0
    field590: int = 0
    field591: int = 0
    field592: int = 0
    field593: int = 0
    field594: int = 0
    field595: int = 0
    field596: int = 0
    field597: int = 0
    field598: int = 0
    field599: int = 0
    field600: int = 0
    field601: int = 0
    field602: int = 0
    field603: int = 0
    field604: int = 0
    field605: int = 0
    field606: int = 0
    field607: int = 0
    field608: int = 0
    field609: int = 0
    field610: int = 0
    field611: int = 0
    field612: int = 0
    field613: int = 0
    field614: int = 0
    field615: int = 0
    field616: int = 0
    field617: int = 0
    field618: int = 0
    field619: int = 0
    field620: int = 0
    field621: int = 0
    field622: int = 0
    field623: int = 0
    field624: int = 0
    field625: int = 0
    field626: int = 0
    field627: int = 0
    field628: int = 0
    field629: int = 0
    field630: int = 0
    field631: int = 0
    field632: int = 0
    field633: int = 0
    field634: int = 0
    field635: int = 0
    field636: int = 0
    field637: int = 0
    field638: int = 0
    field639: int = 0
    field640: int = 0
    field641: int = 0
    field642: int = 0
    field643: int = 0
    field644: int = 0
    field645: int = 0
    field646: int = 0
    field647: int = 0
    field648: int = 0
    field649: int = 0
    field650: int = 0
    field651: int = 0
    field652: int = 0
    field653: int = 0
    field654: int = 0
    field655: int = 0
    field656: int = 0
    field657: int = 0
    field658: int = 0
    field659: int = 0
    field660: int = 0
    field661: int = 0
    field662: int = 0
    field663: int = 0
    field664: int = 0
    field665: int = 0
    field666: int = 0
    field667: int = 0
    field668: int = 0
    field669: int = 0
    field670: int = 0
    field671: int = 0
    field672: int = 0
    field673: int = 0
    field674: int = 0
    field675: int = 0
    field676: int = 0
    field677: int = 0
    field678: int = 0
    field679: int = 0
    field680: int = 0
    field681: int = 0
    field682: int = 0
    field683: int = 0
    field684: int = 0
    field685: int = 0
    field686: int = 0
    field687: int = 0
    field688: int = 0
    field689: int = 0
    field690: int = 0
    field691: int = 0
    field692: int = 0
    field693: int = 0
    field694: int = 0
    field695: int = 0
    field696: int = 0
    field697: int = 0
    field698: int = 0
    field699: int = 0
    field700: int = 0
    field701: int = 0
    field702: int = 0
    field703: int = 0
    field704: int = 0
    field705: int = 0
    field706: int = 0
    field707: int = 0
    field708: int = 0
    field709: int = 0
    field710: int = 0
    field711: int = 0
    field712: int = 0
    field713: int = 0
    field714: int = 0
    field715: int = 0
    field716: int = 0
    field717: int = 0
    field718: int = 0
    field719: int = 0
    field720: int = 0
    field721: int = 0
    field722: int = 0
    field723: int = 0
    field724: int = 0
    field725: int = 0
    field726: int = 0
    field727: int = 0
    field728: int = 0
    field729: int = 0
    field730: int = 0
    field731: int = 0
    field732: int = 0
    field733: int = 0
    field734: int = 0
    field735: int = 0
    field736: int = 0
    field737: int = 0
    field738: int = 0
    field739: int = 0
    field740: int = 0
    field741: int = 0
    field742: int = 0
    field743: int = 0
    field744: int = 0
    field745: int = 0
    field746: int = 0
    field747: int = 0
    field748: int = 0
    field749: int = 0
    field750: int = 0
    field751: int = 0
    field752: int = 0
    field753: int = 0
    field754: int = 0
    field755: int = 0
    field756: int = 0
    field757: int = 0
    field758: int = 0
    field759: int = 0
    field760: int = 0
    field761: int = 0
    field762: int = 0
    field763: int = 0
    field764: int = 0
    field765: int = 0
    field766: int = 0
    field767: int = 0
    field768: int = 0
    field769: int = 0
    field770: int = 0
    field771: int = 0
    field772: int = 0
    field773: int = 0
    field774: int = 0
    field775: int = 0
    field776: int = 0
    field777: int = 0
    field778: int = 0
    field779: int = 0
    field780: int = 0
    field781: int = 0
    field782: int = 0
    field783: int = 0
    field784: int = 0
    field785: int = 0
    field786: int = 0
    field787: int = 0
    field788: int = 0
    field789: int = 0
    field790: int = 0
    field791: int = 0
    field792: int = 0
    field793: int = 0
    field794: int = 0
    field795: int = 0
    field796: int = 0
    field797: int = 0
    field798: int = 0
    field799: int = 0
    field800: int = 0
    field801: int = 0
    field802: int = 0
    field803: int = 0
    field804: int = 0
    field805: int = 0
    field806: int = 0
    field807: int = 0
    field808: int = 0
    field809: int = 0
    field810: int = 0
    field811: int = 0
    field812: int = 0
    field813: int = 0
    field814: int = 0
    field815: int = 0
    field816: int = 0
    field817: int = 0
    field818: int = 0
    field819: int = 0
    field820: int = 0
    field821: int = 0
    field822: int = 0
    field823: int = 0
    field824: int = 0
    field825: int = 0
    field826: int = 0
    field827: int = 0
    field828: int = 0
    field829: int = 0
    field830: int = 0
    field831: int = 0
    field832: int = 0
    field833: int = 0
    field834: int = 0
    field835: int = 0
    field836: int = 0
    field837: int = 0
    field838: int = 0
    field839: int = 0
    field840: int = 0
    field841: int = 0
    field842: int = 0
    field843: int = 0
    field844: int = 0
    field845: int = 0
    field846: int = 0
    field847: int = 0
    field848: int = 0
    field849: int = 0
    field850: int = 0
    field851: int = 0
    field852: int = 0
    field853: int = 0
    field854: int = 0
    field855: int = 0
    field856: int = 0
    field857: int = 0
    field858: int = 0
    field859: int = 0
    field860: int = 0
    field861: int = 0
    field862: int = 0
    field863: int = 0
    field864: int = 0
    field865: int = 0
    field866: int = 0
    field867: int = 0
    field868: int = 0
    field869: int = 0
    field870: int = 0
    field871: int = 0
    field872: int = 0
    field873: int = 0
    field874: int = 0
    field875: int = 0
    field876: int = 0
    field877: int = 0
    field878: int = 0
    field879: int = 0
    field880: int = 0
    field881: int = 0
    field882: int = 0
    field883: int = 0
    field884: int = 0
    field885: int = 0
    field886: int = 0
    field887: int = 0
    field888: int = 0
    field889: int = 0
    field890: int = 0
    field891: int = 0
    field892: int = 0
    field893: int = 0
    field894: int = 0
    field895: int = 0
    field896: int = 0
    field897: int = 0
    field898: int = 0
    field899: int = 0
    field900: int = 0
    field901: int = 0
    field902: int = 0
    field903: int = 0
    field904: int = 0
    field905: int = 0
    field906: int = 0
    field907: int = 0
    field908: int = 0
    field909: int = 0
    field910: int = 0
    field911: int = 0
    field912: int = 0
    field913: int = 0
    field914: int = 0
    field915: int = 0
    field916: int = 0
    field917: int = 0
    field918: int = 0
    field919: int = 0
    field920: int = 0
    field921: int = 0
    field922: int = 0
    field923: int = 0
    field924: int = 0
    field925: int = 0
    field926: int = 0
    field927: int = 0
    field928: int = 0
    field929: int = 0
    field930: int = 0
    field931: int = 0
    field932: int = 0
    field933: int = 0
    field934: int = 0
    field935: int = 0
    field936: int = 0
    field937: int = 0
    field938: int = 0
    field939: int = 0
    field940: int = 0
    field941: int = 0
    field942: int = 0
    field943: int = 0
    field944: int = 0
    field945: int = 0
    field946: int = 0
    field947: int = 0
    field948: int = 0
    field949: int = 0
    field950: int = 0
    field951: int = 0
    field952: int = 0
    field953: int = 0
    field954: int = 0
    field955: int = 0
    field956: int = 0
    field957: int = 0
    field958: int = 0
    field959: int = 0
    field960: int = 0
    field961: int = 0
    field962: int = 0
    field963: int = 0
    field964: int = 0
    field965: int = 0
    field966: int = 0
    field967: int = 0
    field968: int = 0
    field969: int = 0
    field970: int = 0
    field971: int = 0
    field972: int = 0
    field973: int = 0
    field974: int = 0
    field975: int = 0
    field976: int = 0
    field977: int = 0
    field978: int = 0
    field979: int = 0
    field980: int = 0
    field981: int = 0
    field982: int = 0
    field983: int = 0
    field984: int = 0
    field985: int = 0
    field986: int = 0
    field987: int = 0
    field988: int = 0
    field989: int = 0
    field990: int = 0
    field991: int = 0
    field992: int = 0
    field993: int = 0
    field994: int = 0
    field995: int = 0
    field996: int = 0
    field997: int = 0
    field998: int = 0
    field999: int = 0
    field1000: int = 0
    field1001: int = 0
    field1002: int = 0
    field1003: int = 0
    field1004: int = 0
    field1005: int = 0
    field1006: int = 0
    field1007: int = 0
    field1008: int = 0
    field1009: int = 0
    field1010: int = 0
    field1011: int = 0
    field1012: int = 0
    field1013: int = 0
    field1014: int = 0
    field1015: int = 0
    field1016: int = 0
    field1017: int = 0
    field1018: int = 0
    field1019: int = 0
    field1020: int = 0
    field1021: int = 0
    field1022: int = 0
    field1023: int = 0

fn test_large_struct_size(): void =>
    # Verify struct size is exactly at threshold
    if sizeof(LargeStruct) != 8192 =>
        print($"FAIL: sizeof(LargeStruct) = {sizeof(LargeStruct)}, expected 8192\n")
        return
    print($"sizeof(LargeStruct) = {sizeof(LargeStruct)} (at 8KB threshold)\n")
    print("Size test: PASS\n")

fn test_large_struct_allocation(): void =>
    # This struct should be heap-allocated since it's >= 8KB
    var data: LargeStruct = LargeStruct { field0: 42, field1023: 99 }
    
    # Verify first and last fields
    if data.field0 != 42 =>
        print($"FAIL: data.field0 = {data.field0}, expected 42\n")
        return
    if data.field1023 != 99 =>
        print($"FAIL: data.field1023 = {data.field1023}, expected 99\n")
        return
    
    # Verify middle fields got defaults
    if data.field512 != 0 =>
        print($"FAIL: data.field512 = {data.field512}, expected 0\n")
        return
    
    print("Allocation test: PASS\n")

fn test_large_struct_field_access(): void =>
    var data: LargeStruct = LargeStruct { field100: 100, field500: 500, field900: 900 }
    
    # Test scattered field access
    if data.field100 != 100 =>
        print($"FAIL: data.field100 = {data.field100}, expected 100\n")
        return
    if data.field500 != 500 =>
        print($"FAIL: data.field500 = {data.field500}, expected 500\n")
        return
    if data.field900 != 900 =>
        print($"FAIL: data.field900 = {data.field900}, expected 900\n")
        return
    
    print("Field access test: PASS\n")

fn test_large_struct_modification(): void =>
    var data: LargeStruct = LargeStruct { }
    
    # Modify fields
    data.field0 = 1
    data.field512 = 2
    data.field1023 = 3
    
    if data.field0 != 1 =>
        print($"FAIL: data.field0 = {data.field0}, expected 1\n")
        return
    if data.field512 != 2 =>
        print($"FAIL: data.field512 = {data.field512}, expected 2\n")
        return
    if data.field1023 != 3 =>
        print($"FAIL: data.field1023 = {data.field1023}, expected 3\n")
        return
    
    print("Modification test: PASS\n")

fn main(): void =>
    print("Testing heap-allocated structs (>=8KB):\n")
    test_large_struct_size()
    test_large_struct_allocation()
    test_large_struct_field_access()
    test_large_struct_modification()
    print("All heap allocation tests passed.\n")
