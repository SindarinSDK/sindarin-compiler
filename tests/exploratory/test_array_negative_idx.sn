// Test 29: Negative array indexing
fn main(): int =>
    print("Test negative indexing:\n\n")

    var arr: int[] = {10, 20, 30, 40, 50}
    print("arr = ")
    print(arr)
    print("\n\n")

    // Negative indices for access
    print("arr[-1] = ")
    print($"{arr[-1]}\n")
    print("arr[-2] = ")
    print($"{arr[-2]}\n")
    print("arr[-3] = ")
    print($"{arr[-3]}\n")
    print("arr[-4] = ")
    print($"{arr[-4]}\n")
    print("arr[-5] = ")
    print($"{arr[-5]}\n")

    // Modify via negative index
    arr[-1] = 99
    print("\nAfter arr[-1] = 99: ")
    print(arr)
    print("\n")

    // Negative indices in slices
    print("\nNegative indices in slices:\n")
    var arr2: int[] = {0, 1, 2, 3, 4, 5, 6, 7, 8, 9}
    print("arr2 = ")
    print(arr2)
    print("\n")

    var s1: int[] = arr2[-3..]
    print("arr2[-3..] = ")
    print(s1)
    print("\n")

    var s2: int[] = arr2[..-2]
    print("arr2[..-2] = ")
    print(s2)
    print("\n")

    var s3: int[] = arr2[-5..-2]
    print("arr2[-5..-2] = ")
    print(s3)
    print("\n")

    // String array negative index
    print("\nString array:\n")
    var words: str[] = {"first", "second", "third", "last"}
    print($"words[-1] = {words[-1]}\n")
    print($"words[-2] = {words[-2]}\n")

    return 0
