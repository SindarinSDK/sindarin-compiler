import "../../sdk/core/version"

fn main(): int =>
    print("=== Debug version_satisfies_all ===\n")

    var v: Version = Version.parse("2.0.0")
    var constraints: str = ">=1.0.0, <2.0.0"

    # Check c2 directly
    var c2: str = "<2.0.0"
    print($"c2 = '{c2}' (len={c2.length})\n")
    print($"version_satisfies(2.0.0, c2) = {version_satisfies(v, c2)}\n\n")

    # Check from split
    var parts: str[] = constraints.split(",")
    var part: str = parts[1].trim()
    print($"part = '{part}' (len={part.length})\n")
    print($"version_satisfies(2.0.0, part) = {version_satisfies(v, part)}\n\n")

    # Check character by character
    print("Character comparison:\n")
    var i: int = 0
    while i < c2.length =>
        var ch1: char = c2.charAt(i)
        var ch2: char = part.charAt(i)
        var eq: str = "=="
        if ch1 != ch2 =>
            eq = "!="
        print($"c2[{i}]='{ch1}'({ch1 as int}) {eq} part[{i}]='{ch2}'({ch2 as int})\n")
        i = i + 1

    return 0
