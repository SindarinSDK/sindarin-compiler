// Test 129: Basic import syntax
// Tests basic import statement functionality

import "import_tests/math_utils"

fn main(): int =>
    print("Test basic import syntax:\n\n")
    var errors: int = 0

    // Test 1: Call imported function - add
    print("Test 1 - Call imported add function:\n")
    var sum: int = add(5, 3)
    print($"  add(5, 3) = {sum}\n")
    if sum != 8 =>
        print("  FAIL: expected 8\n")
        errors++

    // Test 2: Call imported function - subtract
    print("\nTest 2 - Call imported subtract function:\n")
    var diff: int = subtract(10, 4)
    print($"  subtract(10, 4) = {diff}\n")
    if diff != 6 =>
        print("  FAIL: expected 6\n")
        errors++

    // Test 3: Call imported function - multiply
    print("\nTest 3 - Call imported multiply function:\n")
    var prod: int = multiply(7, 6)
    print($"  multiply(7, 6) = {prod}\n")
    if prod != 42 =>
        print("  FAIL: expected 42\n")
        errors++

    // Test 4: Call imported function - square
    print("\nTest 4 - Call imported square function:\n")
    var sq: int = square(9)
    print($"  square(9) = {sq}\n")
    if sq != 81 =>
        print("  FAIL: expected 81\n")
        errors++

    // Test 5: Call function returning double
    print("\nTest 5 - Imported function returning double:\n")
    var pi: double = get_pi_approx()
    print($"  get_pi_approx() = {pi}\n")
    // Just verify it returns something reasonable
    if pi < 3.0 =>
        print("  FAIL: expected pi > 3.0\n")
        errors++

    // Test 6: Use imported functions in expressions
    print("\nTest 6 - Imported functions in expressions:\n")
    var result: int = add(multiply(2, 3), square(2))
    print($"  add(multiply(2, 3), square(2)) = {result}\n")
    // 2*3 = 6, 2^2 = 4, 6+4 = 10
    if result != 10 =>
        print("  FAIL: expected 10\n")
        errors++

    // Results
    if errors == 0 =>
        print("\nAll basic import tests PASSED!\n")
    if errors > 0 =>
        print($"\n{errors} tests FAILED!\n")

    return 0
