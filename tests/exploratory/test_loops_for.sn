// Test 11: For loops (C-style)
fn main(): int =>
    print("=== Basic For Loop ===\n")
    for var i: int = 0; i < 5; i++ =>
        print($"i = {i}\n")

    // Decrementing
    print("\n=== Decrementing For ===\n")
    for var j: int = 5; j > 0; j-- =>
        print($"j = {j}\n")

    // Custom step
    print("\n=== Custom Step ===\n")
    for var k: int = 0; k <= 10; k = k + 2 =>
        print($"k = {k}\n")

    // Zero iterations
    print("\n=== Zero Iterations ===\n")
    for var m: int = 10; m < 5; m++ =>
        print("Should not print\n")
    print("After zero-iteration for\n")

    // Single iteration
    print("\n=== Single Iteration ===\n")
    for var n: int = 0; n < 1; n++ =>
        print($"n = {n}\n")

    // Nested for
    print("\n=== Nested For ===\n")
    for var x: int = 0; x < 3; x++ =>
        for var y: int = 0; y < 3; y++ =>
            print($"({x},{y}) ")
        print("\n")

    // Sum calculation
    print("\n=== Sum Calculation ===\n")
    var sum: int = 0
    for var i: int = 1; i <= 10; i++ =>
        sum = sum + i
    print($"Sum of 1..10 = {sum}\n")

    // Factorial
    print("\n=== Factorial ===\n")
    var factorial: int = 1
    for var i: int = 1; i <= 5; i++ =>
        factorial = factorial * i
    print($"5! = {factorial}\n")

    // Accessing outer variable
    print("\n=== Outer Variable ===\n")
    var outer: int = 100
    for var i: int = 0; i < 3; i++ =>
        print($"i={i}, outer={outer}\n")
        outer = outer - 10

    print($"Final outer = {outer}\n")

    return 0
