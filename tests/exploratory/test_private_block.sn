// Test 40: Private blocks
fn main(): int =>
    print("Test private blocks:\n\n")

    // Basic private block
    var result: int = 0
    private =>
        var a: int = 10
        var b: int = 20
        result = a + b
    print($"After private block: result = {result}\n")

    // Private block with computation
    var computed: int = 0
    private =>
        var sum: int = 0
        for var i: int = 1; i <= 10; i++ =>
            sum = sum + i
        computed = sum
    print($"Computed sum: {computed}\n")

    // Private block isolates temporary work
    var factor: int = 5
    var product: int = 0
    private =>
        var temp: int = factor * 10
        product = temp
    print($"Product: {product}\n")

    // Multiple private blocks
    var x: int = 0
    var y: int = 0
    private =>
        x = 100
    private =>
        y = 200
    print($"After private blocks: x={x}, y={y}\n")

    // Private block with conditions
    var category: int = 0
    var score: int = 75
    private =>
        if score >= 90 =>
            category = 1
        if score >= 70 && score < 90 =>
            category = 2
        if score < 70 =>
            category = 3
    print($"Category for score {score}: {category}\n")

    // Nested private blocks
    var nested: int = 0
    private =>
        var a: int = 10
        private =>
            var b: int = 20
            nested = a + b

    print($"Nested result: {nested}\n")

    return 0
