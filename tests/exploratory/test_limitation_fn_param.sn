# Test Known Limitation: Function parameters in threads
# Passing function types as arguments to thread-spawned functions

fn apply(f: fn(int): int, x: int): int =>
    return f(x)

fn times_two(x: int): int =>
    return x * 2

fn main(): void =>
    # Try to spawn a thread that takes a function parameter
    var result: int = &apply(times_two, 21)
    var value = result!
    print($"Result: {value}\n")
