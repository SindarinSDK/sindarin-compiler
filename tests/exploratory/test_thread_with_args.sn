// Test: Thread spawn with function arguments code generation
// Expected: Compilation should SUCCEED and run correctly
// Verifies argument marshaling in wrapper function

fn add(a: int, b: int): int =>
    return a + b

fn main(): void =>
    var r: int = &add(10, 32)  // Spawns with arguments
    var result: int = r!        // Gets result
    print($"Result: {result}\n")  // Should print "Result: 42"
