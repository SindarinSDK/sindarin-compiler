# Sindarin Compiler Configuration
# ================================
# This file configures the C backend for the Sindarin compiler.
# Location: $SN_SDK/sn.cfg (or <exe_dir>/sn.cfg in development mode)
#
# Priority: Environment variable > Config file > Default
#
# Backend Selection:
#   The C compiler backend is selected via SN_CC. If not set, the compiler
#   auto-detects based on platform (gcc on Linux, clang on macOS/Windows).
#
# Available backends: gcc, clang, tcc, clang-cl

# ==============================================================================
# Common Settings (all platforms/backends)
# ==============================================================================

# C compiler to use (gcc, clang, tcc, clang-cl)
# Leave empty for auto-detection
SN_CC=

# C standard (c99, c11, c17)
SN_STD=c99

# Additional compiler flags (added to all builds)
SN_CFLAGS=

# Additional linker flags
SN_LDFLAGS=

# Additional libraries to link
SN_LDLIBS=

# ==============================================================================
# Build Mode Flags
# ==============================================================================
# These are applied based on -g (debug) flag or release mode

# Release mode optimization flags
SN_RELEASE_CFLAGS=-O3 -flto -fno-ipa-sra

# Debug mode flags (used with -g)
SN_DEBUG_CFLAGS=-g -fsanitize=address -fno-omit-frame-pointer

# ==============================================================================
# Platform-Specific Notes
# ==============================================================================
#
# Linux (gcc/clang):
#   - Default backend: gcc
#   - ASAN works with both gcc and clang
#   - LTO works with both gcc and clang
#
# macOS (clang):
#   - Default backend: clang
#   - System clang is recommended
#   - LTO and ASAN fully supported
#
# Windows (clang via LLVM-MinGW):
#   - Default backend: clang (LLVM-MinGW toolchain)
#   - Native MSVC (cl.exe) is NOT supported (lacks GNU extensions)
#   - Use clang-cl for MSVC ABI compatibility if needed
#   - ASAN has limited support on Windows
#
# TinyCC (tcc):
#   - Fastest compilation, useful for rapid iteration
#   - Does not support: -flto, -fsanitize, -fno-omit-frame-pointer
#   - Limited optimization (-O2 max)
#
# ==============================================================================
# Environment Variable Overrides
# ==============================================================================
# All settings can be overridden via environment variables:
#   SN_CC, SN_STD, SN_CFLAGS, SN_LDFLAGS, SN_LDLIBS,
#   SN_RELEASE_CFLAGS, SN_DEBUG_CFLAGS
#
# SDK Root:
#   SN_SDK - Path to the Sindarin SDK root directory.
#            All resources are located relative to this:
#              $SN_SDK/sn.cfg           - This config file
#              $SN_SDK/lib/<backend>/   - Runtime libraries
#              $SN_SDK/include/         - Runtime headers
#              $SN_SDK/sdk/             - Standard library modules
#              $SN_SDK/deps/            - Bundled dependencies
#
#   If SN_SDK is not set, the compiler uses its own executable
#   directory as the SDK root (portable/development mode).
